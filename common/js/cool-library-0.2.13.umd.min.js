!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],o):o((e=e||self).CoolLibrary={},e.$)}(this,function(e,t){"use strict";var o=(r.prototype.setEndDateToISOString=function(e){var o=moment(e);return o.hour(23),o.minute(59),o.second(59),o.toISOString()},r);function r(){}function c(a,i,c,s){return new(c=c||Promise)(function(e,o){function t(e){try{n(s.next(e))}catch(e){o(e)}}function r(e){try{n(s.throw(e))}catch(e){o(e)}}function n(o){o.done?e(o.value):new c(function(e){e(o.value)}).then(t,r)}n((s=s.apply(a,i||[])).next())})}function s(t,r){var n,a,i,e,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function o(o){return function(e){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=r.call(t,c)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,e])}}}"undefined"==typeof window&&(global.window={location:{host:{}}});function i(e){return e+"/logout?client_id=:client_id"}function l(e){return e+"/logoutProc"}var n="https://member.coolschool.co.kr",a="https://dev-member.coolschool.co.kr",u="https://local-member.coolschool.co.kr",p=n+"/login",d=a+"/login",h=u+"/login",f=window.location.protocol+"//"+window.location.host+"/callback",m=window.location.protocol+"//"+window.location.host+"/login",g=window.location.protocol+"//"+window.location.host+"/login",v="//search.coolschool.co.kr",w="//dev-search.coolschool.co.kr",y="//local-search.coolschool.co.kr",b=n+"/loginCheck",k=v+"/api/cool/_searchAuthMember",_=a+"/loginCheck",x="https://www.coolschool.co.kr/callback",S="https://dev.coolschool.co.kr/callback",H="//coolfile.coolschool.co.kr/api",C=H+"/uploadFileByOrigin",O=(T.prototype.getUrl=function(e,o,t){var r="";switch(e){case"prod":switch(o){case"member":r=n;break;case"search":r=v;break;case"coolschool":r="https://www.coolschool.co.kr"}break;case"dev":switch(o){case"member":r=a;break;case"search":r=w;break;case"coolschool":r="https://dev.coolschool.co.kr"}break;case"local":switch(o){case"member":r=u;break;case"search":r=y;break;case"coolschool":r="https://local.coolschool.co.kr"}}return t?t(r):r},T);function T(){}var L=(I.prototype.setCookie=function(e,o,t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+o+";"+n+";path=/"},I.prototype.setCookieHour=function(e,o,t){var r=new Date;r.setTime(r.getTime()+60*t*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+o+";"+n+";path=/"},I.prototype.getCookie=function(e){for(var o=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var n=t[r];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(o))return n.substring(o.length,n.length)}return""},I.prototype.setSessionStorage=function(e,o){sessionStorage.setItem(e,o)},I.prototype.getSessionStorage=function(e){return sessionStorage.getItem(e)},I.prototype.removeItemSessionStorage=function(e){sessionStorage.removeItem(e)},I.prototype.clearSessionStorage=function(){sessionStorage.clear()},I);function I(){}var N=(P.prototype.getQueryParam=function(e){return this.getQueryParams()[e]||""},P.prototype.getQueryParams=function(e){void 0===e&&(e="");var o=e;o=(o=o||document.location.href.split("?")[1]||document.location.search).split("+").join(" ");for(var t,r={},n=/[?&]?([^=]+)=([^&]*)/g;t=n.exec(o);)r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return r},P.prototype.getHashSingleValue=function(e){var o,t=(o=e||document.location.href).indexOf("#");return-1===t?"":o.substring(t)},P);function P(){}var U=(j.prototype.goDefaultCoolLogin=function(e,o,t){void 0===e&&(e=""),void 0===o&&(o=""),void 0===t&&(t=!1);var r={client_id:e,redirect_uri:f,redirect_uri_next:window.location.href};o&&(r.do_action=o);var n=p;if("boolean"==typeof t)t&&(n=d);else switch(t){case"prod":n=p;break;case"dev":n=d;break;case"local":n=h;break;default:n=p}var a=$.param(r);-1===r.redirect_uri_next.search("&")&&""!==o&&(a=a.replace("&do_action=","?do_action=")),window.location.href=n+"?"+a},j.prototype.goCoolLoginForSamstory=function(e,o,t){void 0===e&&(e=""),void 0===o&&(o=""),void 0===t&&(t=!1);var r={client_id:e,redirect_uri:m,redirect_uri_next:window.location.href};o&&(r.do_action=o);var n=p;t&&(n=d);var a=$.param(r);-1===r.redirect_uri_next.search("&")&&o&&(a=a.replace("&do_action=","?do_action=")),window.location.href=n+"?"+a},j.prototype.goCoolLoginNextUrlForSamstory=function(e,o,t,r){void 0===e&&(e=""),void 0===o&&(o=""),void 0===r&&(r=!1);var n={client_id:e,redirect_uri:m,redirect_uri_next:t,do_action:o},a=p;r&&(a=d);var i=$.param(n);-1===n.redirect_uri_next.search("&")&&""!==o&&(i=i.replace("&do_action=","?do_action=")),window.location.href=a+"?"+i},j.prototype.goCoolLoginForEmoticon=function(e,o,t){void 0===e&&(e=""),void 0===o&&(o=""),void 0===t&&(t=!1);var r={client_id:e,redirect_uri:g,redirect_uri_next:window.location.href,do_action:o},n=p;t&&(n=d);var a=$.param(r);-1===r.redirect_uri_next.search("&")&&""!==o&&(a=a.replace("&do_action=","?do_action=")),window.location.href=n+"?"+a},j.prototype.goCoolLoginNextUrlForEmoticon=function(e,o,t,r){void 0===e&&(e=""),void 0===o&&(o=""),void 0===r&&(r=!1);var n={client_id:e,redirect_uri:g,redirect_uri_next:t,do_action:o},a=p;r&&(a=d);var i=$.param(n);-1===n.redirect_uri_next.search("&")&&""!==o&&(i=i.replace("&do_action=","?do_action=")),window.location.href=a+"?"+i},j.prototype.goCoolLoginForProfile=function(e,o,t){void 0===e&&(e=""),void 0===o&&(o=""),void 0===t&&(t=!1);var r=p,n=x;if("boolean"==typeof t)t&&(r=d,n=S);else switch(t){case"prod":r=p,n=x;break;case"dev":r=d,n=S;break;case"local":r=h,n="https://local.coolschool.co.kr/callback";break;default:r=p,n=x}var a={client_id:e,redirect_uri:n,redirect_uri_next:window.location.href,do_action:o},i=$.param(a);window.location.href=r+"?"+i},j.prototype.coolLoginCallbackRedirect=function(){var e=this.urlHelper.getQueryParam("redirect_uri_next"),o=this.urlHelper.getQueryParam("redirect");o&&(e=o);var t=this.urlHelper.getQueryParam("do_action");e?t?-1!==e.indexOf("?")?location.href=e+"&do_action="+t:location.href=e+"?do_action="+t:location.href=e:location.href="/"},j.prototype.coolLoginCheck=function(e){void 0===e&&(e=!1);var o=b;if("boolean"==typeof e)e&&(o=_);else switch(e){case"prod":o=b;break;case"dev":o=_;break;case"local":o="https://local-member.coolschool.co.kr/loginCheck";break;default:o=b}return $.ajax({method:"GET",dataType:"jsonp",url:o})},j.prototype.coolLoginCheckByAccessToken=function(t,r){return void 0===t&&(t="prod"),c(this,void 0,void 0,function(){var o;return s(this,function(e){switch(o=k,t){case"prod":o=k;break;case"dev":o="//dev-search.coolschool.co.kr/api/cool/_searchAuthMember";break;case"local":o="//local-search.coolschool.co.kr/api/cool/_searchAuthMember";break;default:o=k}return[2,$.ajax({method:"GET",headers:{Authorization:"Bearer "+r},url:o})]})})},j.prototype.cooLoginCheck=function(e){return void 0===e&&(e=!1),this.coolLoginCheck(e)},j.prototype.logout=function(r,n,a){return c(this,void 0,void 0,function(){var o,t;return s(this,function(e){switch(e.label){case 0:return o=this.envHelper.getUrl(n,"member",i),t={url:o.replace(":client_id",r),type:"GET",contentType:"application/json",dataType:"jsonp"},[4,$.ajax(t)];case 1:return"success"!==e.sent().result?[3,6]:(this.storageHelper.setCookie("accessToken","",-1),this.storageHelper.setCookie("client_id","",-1),void 0!==(a=a||{}).isLogoutProc&&!0!==a.isLogoutProc?[3,5]:a.logoutProcUrl?[3,3]:[4,$.get(l("//"+window.location.host))]);case 2:return e.sent(),[3,5];case 3:return[4,$.get(l(""+a.logoutProcUrl))];case 4:e.sent(),e.label=5;case 5:return void 0!==a.isRestoreLocation&&!0!==a.isRestoreLocation||(location.href="//"+window.location.host+window.location.pathname),[2,!0];case 6:return[2,!1]}})})},j);function j(){this.urlHelper=new N,this.storageHelper=new L,this.envHelper=new O}var A=(F.prototype.getExtension=function(e){return e.split(".").pop()},F.prototype.getBaseName=function(e){var o=String(e).substring(e.lastIndexOf("/")+1);return-1!==o.lastIndexOf(".")&&(o=o.substring(0,o.lastIndexOf("."))),o},F.prototype.getFileExt=function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e):void 0},F);function F(){}var D=(B.prototype.validRegNumber=function(e){if(0===$.trim(e).length)return alert("사업자 번호를 먼저 입력해주세요."),!1;var o=e.replace(/-/gi,"").split("").map(function(e){return parseInt(e,10)});return o.map(function(e){if(isNaN(e))return!1}),10===o.length},B.prototype.signupDupCheckByType=function(r,n){return c(this,void 0,void 0,function(){var o,t;return s(this,function(e){switch(e.label){case 0:return o=0,t=this.getDupCheckURL(r,n),[4,$.getJSON(t,function(e){alert(e.message),o=!0===e.result?1:0})];case 1:return e.sent(),[2,o]}})})},B.prototype.getDupCheckURL=function(e,o){var t="";switch(e){case"email":t="/checkDupByType?type=email&value="+o;break;case"regNumber":t="/checkDupByType?type=regNumber&value="+o}return t},B);function B(){}var R=(M.prototype.uploadFileByOrigin=function(i){return c(this,void 0,void 0,function(){var a;return s(this,function(e){switch(e.label){case 0:return a={},[4,t.ajax({url:C,processData:!1,contentType:!1,data:i,type:"POST",success:function(e){var o=new A;if(e.result)for(var t={},r=0;r<e.data.length;r++){var n=e.data[r];t[n.originFileName]=n,a[r]=H+"/originHost/"+i.get("serviceType")+"/"+o.getBaseName(n.originFileName)}}})];case 1:return e.sent(),[2,a]}})})},M.prototype.uploadFileByOriginWithServiceType=function(o,i){return c(this,void 0,void 0,function(){var a;return s(this,function(e){switch(e.label){case 0:return a={},""===i&&(i=o.get("serviceType")),[4,t.ajax({url:C,processData:!1,contentType:!1,data:o,type:"POST",success:function(e){var o=new A;if(e.result)for(var t={},r=0;r<e.data.length;r++){var n=e.data[r];t[n.originFileName]=n,a[r]=H+"/originHost/"+i+"/"+o.getBaseName(n.originFileName)}}})];case 1:return e.sent(),[2,a]}})})},M);function M(){}var E=(z.newInstanceLogin=function(){return new U},z.newInstanceUrlHelper=function(){return new N},z.newInstanceDateHelper=function(){return new o},z.newInstanceFileHelper=function(){return new A},z.newInstanceStorageHelper=function(){return new L},z.newInstanceSignupHelper=function(){return new D},z.newInstanceUploadHelper=function(){return new R},z);function z(){}var q=(G.prototype.coolPageViewForStream=function(e,o,t,r,n){if(void 0===n&&(n="prod"),e||t){var a="/api/coolPageView/indexing";switch(n){case"local":a=y+a;break;case"dev":a=w+a;break;case"prod":default:a=v+a}var i={serviceType:e,subServiceType:o,serviceSeq:t,url:window.location.href};r&&(i.coolIdx=r);var c={url:a,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(i)};$.ajax(c)}},G);function G(){}var Q=(V.prototype.settingUserParams=function(n,a,i){return c(this,void 0,void 0,function(){var o,t,r=this;return s(this,function(e){switch(e.label){case 0:return!document.documentMode||$.ajaxSetup({cache:!1}),a&&a.isNeedLogin&&this.loginHelper.coolLoginCheck(a.envName).then(function(e){e&&e.coolid||r.loginHelper.goDefaultCoolLogin(a.clientId,"",a.envName)}),o={url:n},t={},a.user?[3,3]:a.authorization?(o.headers={Authorization:a.authorization,ClientId:a.clientId},[4,$.ajax(o)]):[3,2];case 1:return t=e.sent(),a.isAuth=t.result,a.user=t.result?t.data:{},[3,3];case 2:a.isAuth=!1,a.user={},e.label=3;case 3:return a&&a.isNeedLogin?a.isAuth?[3,5]:[4,this.loginHelper.logout(a.clientId,a.envName)]:[3,5];case 4:e.sent()&&this.loginHelper.goDefaultCoolLogin(a.clientId,"",a.envName),e.label=5;case 5:return i&&i(a),[2,a]}})})},V.prototype.settingUserParamsSe=function(t,r){return c(this,void 0,void 0,function(){var o;return s(this,function(e){switch(e.label){case 0:document.documentMode&&$.ajaxSetup({cache:!1}),e.label=1;case 1:return e.trys.push([1,4,,5]),t&&t.isNeedLogin&&!t.user?[4,this.loginHelper.coolLoginCheckByAccessToken(t.envName,t.authorization)]:[3,3];case 2:o=e.sent(),t.isAuth=o.result,t.user=o.result?o.data:{},e.label=3;case 3:return[3,5];case 4:return e.sent(),t.isAuth=!1,t.user={},[3,5];case 5:return t&&t.isNeedLogin&&!t.isAuth&&!t.user&&console&&console.warn("401 Unauthorized"),r&&r(t),[2,t]}})})},V);function V(){this.loginHelper=new U}function J(e,o,t){$(e).validate({ignore:""+o,submitHandler:function(){t&&t()}}),$.extend($.validator.messages,{required:"필수 항목입니다.",remote:"항목을 수정하세요.",email:"유효하지 않은 E-Mail주소입니다.",url:"유효하지 않은 URL입니다.",date:"올바른 날짜를 입력하세요.",dateISO:"올바른 날짜(ISO)를 입력하세요.",number:"유효한 숫자가 아닙니다.",digits:"숫자만 입력 가능합니다.",creditcard:"신용카드 번호가 바르지 않습니다.",equalTo:"같은 값을 다시 입력하세요.",extension:"올바른 확장자가 아닙니다.",maxlength:$.validator.format("{0}자를 넘을 수 없습니다. "),minlength:$.validator.format("{0}자 이상 입력하세요."),rangelength:$.validator.format("문자 길이가 {0} 에서 {1} 사이의 값을 입력하세요."),range:$.validator.format("{0} 에서 {1} 사이의 값을 입력하세요."),max:$.validator.format("{0} 이하의 값을 입력하세요."),min:$.validator.format("{0} 이상의 값을 입력하세요.")}),$.validator.addMethod("whitespace",function(e){var o=!0;return(e&&0===$.trim(e).length||-1!==e.indexOf(" "))&&(o=!1),o},"띄어쓰기가 들어갈 수 없습니다.")}var K=(W.prototype.latLng=function(e,o){return new kakao.maps.LatLng(e,o)},W.prototype.map=function(){var e=document.getElementById(this.mapOpts.element);if(e){var o={center:this.latLng(this.mapOpts.latitude,this.mapOpts.longitude),level:this.mapOpts.level};this.mapOpts.map=new kakao.maps.Map(e,o),this.mapOpts.map.relayout(),this.mapOpts.map.setCenter(o.center)}},W.prototype.marker=function(){var e=this.latLng(this.mapOpts.latitude,this.mapOpts.longitude),o=new kakao.maps.Marker({position:e,map:this.mapOpts.map});o.setPosition(e),o.setMap(this.mapOpts.map)},W.prototype.geocoderAddressSearch=function(e,o){return(new kakao.maps.services.Geocoder).addressSearch(e,o)},W.prototype.geocoder=function(){return new kakao.maps.services.Geocoder},W);function W(e){e=e||{},this.mapOpts=e||{},e.element||(this.mapOpts.element="map"),e.latitude&&e.longitude||(this.mapOpts.latitude="37.56455490632751",this.mapOpts.longitude="126.9756149637474"),e.level||(this.mapOpts.level="4")}var X=(Y.prototype.postcode=function(e){return new daum.Postcode(e).open()},Y);function Y(){}var Z=(ee.prototype.socialKind=function(e){var o={},t=e.name,r=document.location.href;e.href&&(r=e.href);var n=e.txt,a=encodeURIComponent(r),i=encodeURIComponent(n),c=encodeURIComponent("\r\n"),s=e.img;switch(t){case"facebook":o={method:"popup",url:"//www.facebook.com/sharer/sharer.php?u="+a};break;case"twitter":o={method:"popup",url:"//twitter.com/intent/tweet?text="+i+"&url="+a};break;case"google":o={method:"popup",url:"//plus.google.com/share?url="+a+"&image="+s};break;case"blog":o={method:"popup",url:"//share.naver.com/web/shareView.nhn?url="+a+"&title="+i};break;case"band":o={method:"web2app",param:"create/post?text="+i+c+a,a_store:"itms-apps://itunes.apple.com/app/id542613198?mt=8",g_store:"market://details?id=com.nhn.android.band",a_proto:"bandapp://",g_proto:"scheme=bandapp;package=com.nhn.android.band"};break;default:return void alert("지원하지 않는 SNS입니다.")}switch(o.method){case"popup":window.open(o.url,"share_"+t,"resizable=no");break;case"web2app":if(navigator.userAgent.match(/android/i))setTimeout(function(){location.href="intent://"+o.param+"#Intent;"+o.g_proto+";end"});else if(navigator.userAgent.match(/(iphone)|(ipod)|(ipad)/i))setTimeout(function(){location.href=o.a_store}),setTimeout(function(){location.href=o.a_proto+o.param});else{if("band"===t){var l=i+" | "+a;return void window.open("http://www.band.us/plugin/share?body="+l,"share_band","width=410, height=540, resizable=no")}alert("이 기능은 모바일에서만 사용할 수 있습니다.")}}},ee);function ee(){}e.DateHelper=o,e.DaumPostHelper=X,e.Factory=E,e.FileHelper=A,e.KakaoMapHelper=K,e.Login=U,e.SearchHelper=q,e.SignupHelper=D,e.SocialShareHelper=Z,e.StorageHelper=L,e.UploadHelper=R,e.UrlHelper=N,e.ValidationHelper=J,e.VueHelper=Q,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=cool-library-0.2.13.umd.min.js.map
