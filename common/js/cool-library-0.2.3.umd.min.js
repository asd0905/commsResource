!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("moment"),require("jquery")):"function"==typeof define&&define.amd?define(["exports","moment","jquery"],o):o((e=e||self).CoolLibrary={},e.moment,e.$)}(this,function(e,t,a){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var o=(r.prototype.setEndDateToISOString=function(e){var o=t(e);return o.hour(23),o.minute(59),o.second(59),o.toISOString()},r);function r(){}function c(i,c,a,l){return new(a=a||Promise)(function(e,o){function t(e){try{n(l.next(e))}catch(e){o(e)}}function r(e){try{n(l.throw(e))}catch(e){o(e)}}function n(o){o.done?e(o.value):new a(function(e){e(o.value)}).then(t,r)}n((l=l.apply(i,c||[])).next())})}function l(t,r){var n,i,c,e,a={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return e={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function o(o){return function(e){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(c=2&o[0]?i.return:o[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,o[1])).done)return c;switch(i=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(c=0<(c=a.trys).length&&c[c.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){a.label=o[1];break}if(6===o[0]&&a.label<c[1]){a.label=c[1],c=o;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(o);break}c[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(t,a)}catch(e){o=[6,e],i=0}finally{n=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,e])}}}function s(e){return e+"/logout?client_id=:client_id"}function u(e){return e+"/logoutProc"}var n="https://member.coolschool.co.kr",i="https://dev-member.coolschool.co.kr",d="https://local-member.coolschool.co.kr",p=n+"/login",h=i+"/login",f=d+"/login",v=window.location.protocol+"//"+window.location.host+"/callback",w=window.location.protocol+"//"+window.location.host+"/login",g=window.location.protocol+"//"+window.location.host+"/login",y=n+"/loginCheck",m=i+"/loginCheck",_="https://www.coolschool.co.kr/callback",b="https://dev.coolschool.co.kr/callback",k="//search.coolschool.co.kr",x="//dev-search.coolschool.co.kr",C="//local-search.coolschool.co.kr",S=(H.prototype.getUrl=function(e,o,t){var r="";switch(e){case"prod":switch(o){case"member":r=n;break;case"search":r=k;break;case"coolschool":r="https://www.coolschool.co.kr"}break;case"dev":switch(o){case"member":r=i;break;case"search":r=x;break;case"coolschool":r="https://dev.coolschool.co.kr"}break;case"local":switch(o){case"member":r=d;break;case"search":r=C;break;case"coolschool":r="https://local.coolschool.co.kr"}}return t?t(r):r},H);function H(){}var P=(T.prototype.setCookie=function(e,o,t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+o+";"+n+";path=/"},T.prototype.setCookieHour=function(e,o,t){var r=new Date;r.setTime(r.getTime()+60*t*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+o+";"+n+";path=/"},T.prototype.getCookie=function(e){for(var o=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var n=t[r];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(o))return n.substring(o.length,n.length)}return""},T.prototype.setSessionStorage=function(e,o){sessionStorage.setItem(e,o)},T.prototype.getSessionStorage=function(e){return sessionStorage.getItem(e)},T);function T(){}var L=(j.prototype.getQueryParam=function(e){return this.getQueryParams()[e]||""},j.prototype.getQueryParams=function(e){void 0===e&&(e="");var o=e;o=(o=o||document.location.href.split("?")[1]||document.location.search).split("+").join(" ");for(var t,r={},n=/[?&]?([^=]+)=([^&]*)/g;t=n.exec(o);)r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return r},j.prototype.getHashSingleValue=function(e){var o=e.indexOf("#");return-1===o?"":e.substring(o)},j);function j(){}var I=(U.prototype.goDefaultCoolLogin=function(e,o,t){void 0===e&&(e=""),void 0===o&&(o=""),void 0===t&&(t=!1);var r={client_id:e,redirect_uri:v,redirect_uri_next:window.location.href,do_action:o},n=p;if("boolean"==typeof t)t&&(n=h);else switch(t){case"prod":n=p;break;case"dev":n=h;break;case"local":n=f;break;default:n=p}var i=a.param(r);-1===r.redirect_uri_next.search("&")&&""!==o&&(i=i.replace("&do_action=","?do_action=")),window.location.href=n+"?"+i},U.prototype.goCoolLoginForSamstory=function(e,o,t){void 0===e&&(e=""),void 0===o&&(o=""),void 0===t&&(t=!1);var r={client_id:e,redirect_uri:w,redirect_uri_next:window.location.href,do_action:o},n=p;t&&(n=h);var i=a.param(r);-1===r.redirect_uri_next.search("&")&&""!==o&&(i=i.replace("&do_action=","?do_action=")),window.location.href=n+"?"+i},U.prototype.goCoolLoginNextUrlForSamstory=function(e,o,t,r){void 0===e&&(e=""),void 0===o&&(o=""),void 0===r&&(r=!1);var n={client_id:e,redirect_uri:w,redirect_uri_next:t,do_action:o},i=p;r&&(i=h);var c=a.param(n);-1===n.redirect_uri_next.search("&")&&""!==o&&(c=c.replace("&do_action=","?do_action=")),window.location.href=i+"?"+c},U.prototype.goCoolLoginForEmoticon=function(e,o,t){void 0===e&&(e=""),void 0===o&&(o=""),void 0===t&&(t=!1);var r={client_id:e,redirect_uri:g,redirect_uri_next:window.location.href,do_action:o},n=p;t&&(n=h);var i=a.param(r);-1===r.redirect_uri_next.search("&")&&""!==o&&(i=i.replace("&do_action=","?do_action=")),window.location.href=n+"?"+i},U.prototype.goCoolLoginNextUrlForEmoticon=function(e,o,t,r){void 0===e&&(e=""),void 0===o&&(o=""),void 0===r&&(r=!1);var n={client_id:e,redirect_uri:g,redirect_uri_next:t,do_action:o},i=p;r&&(i=h);var c=a.param(n);-1===n.redirect_uri_next.search("&")&&""!==o&&(c=c.replace("&do_action=","?do_action=")),window.location.href=i+"?"+c},U.prototype.goCoolLoginForProfile=function(e,o,t){void 0===e&&(e=""),void 0===o&&(o=""),void 0===t&&(t=!1);var r=p,n=_;if("boolean"==typeof t)t&&(r=h,n=b);else switch(t){case"prod":r=p,n=_;break;case"dev":r=h,n=b;break;case"local":r=f,n="https://local.coolschool.co.kr/callback";break;default:r=p,n=_}var i={client_id:e,redirect_uri:n,redirect_uri_next:window.location.href,do_action:o},c=a.param(i);window.location.href=r+"?"+c},U.prototype.coolLoginCallbackRedirect=function(){var e=this.urlHelper.getQueryParam("redirect_uri_next"),o=this.urlHelper.getQueryParam("redirect");o&&(e=o);var t=this.urlHelper.getQueryParam("do_action");e?t?-1!==e.indexOf("?")?location.href=e+"&do_action="+t:location.href=e+"?do_action="+t:location.href=e:location.href="/"},U.prototype.coolLoginCheck=function(e){void 0===e&&(e=!1);var o=y;if("boolean"==typeof e)e&&(o=m);else switch(e){case"prod":o=y;break;case"dev":o=m;break;case"local":o="https://local-member.coolschool.co.kr/loginCheck";break;default:o=y}return a.ajax({method:"GET",dataType:"jsonp",url:o})},U.prototype.cooLoginCheck=function(e){return void 0===e&&(e=!1),this.coolLoginCheck(e)},U.prototype.logout=function(r,n,i){return c(this,void 0,void 0,function(){var o,t;return l(this,function(e){switch(e.label){case 0:return o=this.envHelper.getUrl(n,"member",s),t={url:o.replace(":client_id",r),type:"GET",contentType:"application/json",dataType:"jsonp"},[4,a.ajax(t)];case 1:return"success"!==e.sent().result?[3,6]:void 0!==(i=i||{}).isLogoutProc&&!0!==i.isLogoutProc?[3,5]:i.logoutProcUrl?[3,3]:[4,a.get(u("//"+window.location.host))];case 2:return e.sent(),[3,5];case 3:return[4,a.get(u(""+i.logoutProcUrl))];case 4:e.sent(),e.label=5;case 5:return this.storageHelper.setCookie("accessToken","",-1),this.storageHelper.setCookie("client_id","",-1),void 0!==i.isRestoreLocation&&!0!==i.isRestoreLocation||(location.href="//"+window.location.host+window.location.pathname),[2,!0];case 6:return[2,!1]}})})},U);function U(){this.urlHelper=new L,this.storageHelper=new P,this.envHelper=new S}var F=(O.prototype.getExtension=function(e){return e.split(".").pop()},O);function O(){}var E=(D.newInstanceLogin=function(){return new I},D.newInstanceUrlHelper=function(){return new L},D.newInstanceDateHelper=function(){return new o},D.newInstanceFileHelper=function(){return new F},D);function D(){}var Q=(R.prototype.coolPageViewForStream=function(e,o,t,r,n){if(void 0===n&&(n="prod"),e||t){var i="/api/coolPageView/indexing";switch(n){case"local":i=C+i;break;case"dev":i=x+i;break;case"prod":default:i=k+i}var c={serviceType:e,subServiceType:o,serviceSeq:t,url:window.location.href};r&&(c.coolIdx=r);var a={url:i,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(c)};$.ajax(a)}},R);function R(){}var q=(A.prototype.settingUserParams=function(r,n,i){return c(this,void 0,void 0,function(){var o,t;return l(this,function(e){switch(e.label){case 0:return!document.documentMode||$.ajaxSetup({cache:!1}),o={url:r},t={},n.user?[3,3]:n.authorization?(o.headers={Authorization:n.authorization,ClientId:n.clientId},[4,$.ajax(o)]):[3,2];case 1:return t=e.sent(),n.isAuth=t.result,n.user=t.result?t.data:{},[3,3];case 2:n.isAuth=!1,n.user={},e.label=3;case 3:return i&&i(n),[2,n]}})})},A);function A(){}e.DateHelper=o,e.Factory=E,e.FileHelper=F,e.Login=I,e.SearchHelper=Q,e.StorageHelper=P,e.UrlHelper=L,e.VueHelper=q,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=cool-library-0.2.3.umd.min.js.map
